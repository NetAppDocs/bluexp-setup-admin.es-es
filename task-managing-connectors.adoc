---
sidebar: sidebar 
permalink: task-managing-connectors.html 
keywords: managing connectors, uninstall connector, switch connectors, switch between connectors, local interface, local connector, local cloud manager 
summary: Después de crear un conector, es posible que deba gestionarlo de vez en cuando. Por ejemplo, puede que desee cambiar entre conectores si tiene más de uno. También es posible que debas actualizar manualmente el conector cuando usas BlueXP en modo privado. 
---
= Administrar conectores existentes
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Después de crear un conector, es posible que deba gestionarlo de vez en cuando. Por ejemplo, puede que desee cambiar entre conectores si tiene más de uno. También es posible que debas actualizar manualmente el conector cuando usas BlueXP en modo privado.

link:concept-connectors.html["Descubra cómo funcionan los conectores"].



== Mantenimiento del sistema operativo y los equipos virtuales

El mantenimiento del sistema operativo en el host del conector es responsabilidad suya. Por ejemplo, debe aplicar actualizaciones de seguridad al sistema operativo en el host del conector siguiendo los procedimientos estándar de su empresa para la distribución del sistema operativo.

Tenga en cuenta que no es necesario detener ningún servicio en el host del conector cuando se ejecuta una actualización del SO.

Si necesita parar e iniciar el conector VM, debe hacerlo desde la consola de su proveedor de cloud o mediante los procedimientos estándar para la gestión en las instalaciones.

link:concept-connectors.html#connectors-must-be-operational-at-all-times["Tenga en cuenta que el conector debe estar operativo en todo momento"].



== Cambiar entre conectores

Si tiene varios conectores, puede alternar entre ellos para ver los entornos de trabajo asociados a un conector específico.

Por ejemplo, digamos que trabaja en un entorno multicloud. Es posible que tenga un conector en AWS y otro en Google Cloud. Tendría que cambiar entre estos conectores para gestionar los sistemas Cloud Volumes ONTAP que se ejecutan en esas nubes.

.Paso
. Seleccione la lista desplegable *conector*, seleccione otro conector y, a continuación, seleccione *interruptor*.
+
image:screenshot_connector_switch.gif["Captura de pantalla que muestra el icono conector en el cabezal y la acción Switch."]



.Resultado
BlueXP actualiza y muestra los entornos de trabajo asociados al conector seleccionado.



== Descargar o enviar un mensaje de AutoSupport

Si tiene problemas, es posible que el personal de NetApp le solicite enviar un mensaje de AutoSupport al soporte de NetApp para la solución de problemas.

.Pasos
. En la parte superior derecha de la consola de BlueXP, seleccione el icono Ayuda y seleccione *Soporte*.
+
image:screenshot-help-support.png["Una captura de pantalla del menú Ayuda en el que Soporte es la primera opción de la lista"]

. Seleccione *conector BlueXP*.
. En función de cómo necesite enviar la información al soporte de NetApp, seleccione una de las siguientes opciones:
+
.. Seleccione la opción para descargar el mensaje de AutoSupport en el equipo local. Luego, puede enviarlo al soporte de NetApp mediante un método preferido.
.. Seleccione *Enviar AutoSupport* para enviar directamente el mensaje al soporte de NetApp.


+
image:screenshot-connector-autosupport.png["Una captura de pantalla del panel de soporte que muestra dónde pueden seleccionar los usuarios para descargar y enviar mensajes de AutoSupport."]





== Conéctese a la máquina virtual de Linux

Si necesita conectarse a la VM de Linux en la que se ejecuta el conector, puede hacerlo utilizando las opciones de conectividad disponibles de su proveedor de cloud.

AWS:: Al crear la instancia de Connector en AWS, proporcionó una clave de acceso y una clave secreta de AWS. Es posible usar este par de claves para SSH a la instancia.
+
--
https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstances.html["AWS Docs: Conéctese a su instancia de Linux"^]

--
Azure:: Cuando creó el conector VM en Azure, eligió autenticarse con una contraseña o una clave pública SSH. Utilice el método de autenticación que ha elegido para conectarse a la máquina virtual.
+
--
https://docs.microsoft.com/en-us/azure/virtual-machines/linux/mac-create-ssh-keys#ssh-into-your-vm["Azure Docs: SSH en su máquina virtual"^]

--
Google Cloud:: No puede especificar un método de autenticación al crear un conector en Google Cloud. Sin embargo, puede conectarse a la instancia de VM de Linux mediante Google Cloud Console o Google Cloud CLI (gcloud).
+
--
https://cloud.google.com/compute/docs/instances/connecting-to-instance["Google Cloud Docs: Conexión a equipos virtuales Linux"^]

--




== Actualice el conector cuando utilice el modo privado

Si utiliza BlueXP en modo privado, puede actualizar Connector cuando haya una versión más reciente disponible en el sitio de soporte de NetApp.

El conector debe reiniciarse durante el proceso de actualización para que la consola basada en Web no esté disponible durante la actualización.


NOTE: En los hosts que tienen acceso a Internet, el conector actualiza automáticamente su software a la última versión, siempre que tenga acceso saliente a Internet para obtener la actualización de software.

.Pasos
. Descargue el software del conector de https://mysupport.netapp.com/site/products/all/details/cloud-manager/downloads-tab["Sitio de soporte de NetApp"^].
. Copie el instalador en el host Linux.
. Asigne permisos para ejecutar el script.
+
[source, cli]
----
chmod +x /path/cloud-manager-connector-offline-<version>
----
+
Donde <version> es la versión del conector que ha descargado.

. Ejecute el script de instalación:
+
[source, cli]
----
sudo /path/cloud-manager-connector-offline-<version>
----
+
Donde <version> es la versión del conector que ha descargado.

. Una vez finalizada la actualización, puede verificar la versión del conector en *Ayuda > Soporte > conector*.




== Cambiar la dirección IP de un conector

Si es necesario para su empresa, puede cambiar la dirección IP interna y la dirección IP pública de la instancia de conector que asigna automáticamente su proveedor de cloud.

.Pasos
. Siga las instrucciones del proveedor de cloud para cambiar la dirección IP local o la dirección IP pública (o ambas) de la instancia de Connector.
. Si ha cambiado la dirección IP pública y necesita conectarse a la interfaz de usuario local que se ejecuta en el conector, reinicie la instancia del conector para registrar la nueva dirección IP con BlueXP.
. Si cambió la dirección IP privada, actualice la ubicación de copia de seguridad de los archivos de configuración de Cloud Volumes ONTAP para que las copias de seguridad se envíen a la nueva dirección IP privada del conector.
+
.. Ejecute el siguiente comando desde la interfaz de línea de comandos de Cloud Volumes ONTAP para quitar el destino de backup actual:
+
[source, cli]
----
system configuration backup settings modify -destination ""
----
.. Vaya a BlueXP y abra el entorno de trabajo.
.. Seleccione el menú y seleccione *Avanzado > copias de seguridad de configuración*.
.. Seleccione *establecer destino de copia de seguridad*.






== Editar los URI de un conector

Agregue y elimine el identificador uniforme de recursos (URI) de un conector.

.Pasos
. Seleccione la lista desplegable *conector* del encabezado BlueXP.
. Seleccione *gestionar conectores*.
. Seleccione el menú de acción de un conector y seleccione *Editar URIs*.
. Agregue y elimine URIs y, a continuación, seleccione *aplicar*.




== Solucione los fallos de descarga al utilizar una puerta de enlace NAT de Google Cloud

El conector descarga automáticamente las actualizaciones de software de Cloud Volumes ONTAP. La descarga puede fallar si la configuración utiliza una puerta de enlace de NAT de Google Cloud. Puede corregir este problema limitando el número de partes en las que se divide la imagen de software. Este paso se debe completar mediante la API de BlueXP.

.Paso
. Envíe una solicitud PUT a /occm/config con el siguiente JSON como cuerpo:
+
[source]
----
{
  "maxDownloadSessions": 32
}
----
+
El valor para _maxDownloadSessions_ puede ser 1 o cualquier entero mayor que 1. Si el valor es 1, la imagen descargada no se dividirá.

+
Tenga en cuenta que 32 es un valor de ejemplo. El valor que debe utilizar depende de la configuración de NAT y del número de sesiones que puede tener simultáneamente.



https://docs.netapp.com/us-en/cloud-manager-automation/cm/api_ref_resources.html#occmconfig["Obtenga más información acerca de la llamada a la API /occm/config"^]



== Quitar conectores de BlueXP

Si un conector está inactivo, puede eliminarlo de la lista de conectores de BlueXP. Puede hacerlo si ha eliminado la máquina virtual conector o si ha desinstalado el software conector.

Tenga en cuenta lo siguiente sobre la extracción de un conector:

* Esta acción no elimina la máquina virtual.
* Esta acción no se puede revertir--una vez que se quita un conector de BlueXP, no se puede volver a agregar.


.Pasos
. Seleccione la lista desplegable *conector* del encabezado BlueXP.
. Seleccione *gestionar conectores*.
. Seleccione el menú de acción de un conector inactivo y seleccione *Quitar conector*.
+
image:screenshot_connector_remove.gif["Captura de pantalla del widget conector en la que puede eliminar un conector inactivo."]

. Introduzca el nombre del conector que desea confirmar y, a continuación, seleccione *Quitar*.


.Resultado
BlueXP quita el conector de sus registros.



== Desinstale el software del conector

Desinstale el software del conector para solucionar problemas o para quitar el software del host de forma permanente. Los pasos que debe seguir dependen de si ha instalado el conector en un host que tenga acceso a Internet o un host en una red restringida que no tenga acceso a Internet.



=== Desinstale desde un host con acceso a Internet

El conector en línea incluye una secuencia de comandos de desinstalación que puede utilizar para desinstalar el software.

.Paso
. Desde el host Linux, ejecute el script de desinstalación:
+
[source, cli]
----
/opt/application/netapp/service-manager-2/uninstall.sh [silent]
----
+
_silent_ ejecuta la secuencia de comandos sin que se le solicite confirmación.





=== Desinstale desde un host sin acceso a Internet

Use estos comandos si descargó el software del conector del sitio de soporte de NetApp y lo instaló en una red restringida que no tiene acceso a Internet.

.Paso
. Desde el host Linux, ejecute los siguientes comandos:
+
[source, cli]
----
docker-compose -f /opt/application/netapp/ds/docker-compose.yml down -v
rm -rf /opt/application/netapp/ds
----

