---
sidebar: sidebar 
permalink: task-install-connector-aws.html 
keywords: install connector, aws connector installation, aws connector, install connector in aws, bluexp, aws marketplace, manual install, create connector 
summary: Cree un conector directamente desde la consola basada en web de BlueXP, desde AWS Marketplace o mediante la instalación del software en su propio host Linux. 
---
= Cree un conector en AWS
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Cree un conector directamente desde la consola basada en web de BlueXP, desde AWS Marketplace o mediante la instalación del software en su propio host Linux.

[role="tabbed-block"]
====
.BlueXP
--
.Lo que necesitará
* Un método de autenticación de AWS: Un rol de IAM o claves de acceso para un usuario IAM con los permisos necesarios.
+
link:task-set-up-permissions-aws.html["Aprenda a configurar los permisos de AWS"]

* Un VPC y una subred que cumplan los requisitos de red.
+
link:task-set-up-networking-aws.html["Obtenga información sobre los requisitos de red"]

* Una pareja de claves para la instancia de EC2.
* Detalles sobre un servidor proxy, si se necesita un proxy para el acceso a Internet desde el conector.


.Pasos
. Haga clic en el menú desplegable *conector* y seleccione *Agregar conector*.
+
image:screenshot_connector_add.gif["Captura de pantalla que muestra el icono conector en el encabezado y la acción Agregar conector ."]

. Elija *Amazon Web Services* como su proveedor de cloud y haga clic en *continuar*.
. En la página *despliegue de un conector*, revise los detalles sobre lo que necesitará. Dispone de dos opciones:
+
.. Haga clic en *continuar* para preparar la implementación utilizando la guía del producto. Cada paso de la guía del producto incluye la información que se incluye en esta página de la documentación.
.. Haga clic en *Ir a implementación* si ya ha preparado siguiendo los pasos de esta página.


. Siga los pasos del asistente para crear el conector:
+
** *Prepárese*: Revise lo que necesitará.
** *Credenciales de AWS*: Especifique su región de AWS y, a continuación, elija un método de autenticación, que es una función de IAM que BlueXP puede asumir o una clave de acceso y clave secreta de AWS.
+

TIP: Si elige *asumir función*, puede crear el primer conjunto de credenciales desde el asistente de implementación del conector. Debe crear cualquier conjunto adicional de credenciales desde la página Credentials. A continuación, estarán disponibles en el asistente en una lista desplegable. link:task-adding-aws-accounts.html["Aprenda a añadir credenciales adicionales"].

** *Detalles*: Proporcione detalles sobre el conector.
+
*** Escriba un nombre para la instancia.
*** Añada etiquetas personalizadas (metadatos) a la instancia.
*** Elija si desea que BlueXP cree una nueva función que tenga los permisos necesarios o si desea seleccionar una función existente con la que haya configurado link:reference-permissions-aws.html["los permisos necesarios"].
*** Elija si desea cifrar los discos EBS del conector. Tiene la opción de utilizar la clave de cifrado predeterminada o utilizar una clave personalizada.


** *Red*: Especifique un VPC, una subred y un par de claves para la instancia, elija si desea habilitar una dirección IP pública y, opcionalmente, especifique una configuración de proxy.
+
Asegúrese de que tiene el par de llaves correcto para usar con el conector. Sin un par de teclas, no podrá acceder a la máquina virtual conector.

** *Grupo de seguridad*: Elija si desea crear un nuevo grupo de seguridad o si desea seleccionar un grupo de seguridad existente que permita las reglas entrantes y salientes requeridas.
+
link:reference-ports-aws.html["Ver reglas de grupos de seguridad para AWS"].

** *Revisión*: Revise sus selecciones para verificar que su configuración es correcta.


. Haga clic en *Agregar*.
+
La instancia debe estar lista en unos 7 minutos. Debe permanecer en la página hasta que el proceso se complete.



.Resultado
Una vez completado el proceso, el conector está disponible para su uso en BlueXP.

--
.Mercado AWS
--
.Lo que necesitará
* Un VPC y una subred que cumplan los requisitos de red.
+
link:task-set-up-networking-aws.html["Obtenga información sobre los requisitos de red"].

* Función IAM con una directiva adjunta que incluye los permisos necesarios para el conector.
+
link:task-set-up-permissions-aws.html["Aprenda a configurar los permisos de AWS"].

* Permisos para suscribirse y cancelar la suscripción a AWS Marketplace para su usuario de IAM.
* Una pareja de claves para la instancia de EC2.


.Pasos
. Vaya a la https://aws.amazon.com/marketplace/pp/B018REK8QG["Página de BlueXP en AWS Marketplace"^]
. En la página Marketplace, haga clic en *continuar a Suscribirse* y luego haga clic en *continuar a Configuración*.
+
image:screenshot-subscribe-aws.png["Una captura de pantalla que muestra los botones continuar Suscribirse y continuar con Configuración en AWS Marketplace."]

. Cambie cualquiera de las opciones predeterminadas y haga clic en *continuar a Iniciar*.
. En *elegir acción*, seleccione *Iniciar a través de EC2* y, a continuación, haga clic en *Iniciar*.
+
Estos pasos describen cómo iniciar la instancia desde la consola EC2 porque la consola permite asociar una función IAM a la instancia del conector. Esto no es posible usando la acción *Iniciar desde el sitio web*.

. Siga las instrucciones para configurar y desplegar la instancia:
+
** *Nombre y etiquetas*: Introduzca un nombre y etiquetas para la instancia.
** *Aplicación y OS Image*: Omitir esta sección. El conector AMI ya está seleccionado.
** *Tipo de instancia*: En función de la disponibilidad de la región, elija uno de los tipos de instancia admitidos (se recomienda t3.xlarge).
+
link:reference-host-requirements-aws.html["Revise los requisitos de la instancia"].

** *Par de claves (login)*: Seleccione el par de claves que desea utilizar para conectarse de forma segura a la instancia.
** *Ajustes de red*: Edite los ajustes de red según sea necesario:
+
*** Elija el VPC y la subred que desee.
*** Especifique si la instancia debe tener una dirección IP pública.
*** Especifique la configuración del firewall que habilite los métodos de conexión necesarios para la instancia del conector: SSH, HTTP y HTTPS.
+
Se requieren algunas reglas más para configuraciones específicas.

+
link:reference-ports-aws.html["Ver reglas de grupos de seguridad para AWS"].



** *Configurar almacenamiento*: Mantenga las opciones de almacenamiento predeterminadas.
** *Detalles avanzados*: En *perfil de instancia de IAM*, elija la función de IAM que incluye los permisos necesarios para el conector.
+
link:task-set-up-permissions-aws.html["Aprenda a configurar los permisos de AWS"].

** *Resumen*: Revise el resumen y haga clic en *Iniciar instancia*.


+
AWS inicia el software con la configuración especificada. La instancia y el software del conector deben estar funcionando en aproximadamente cinco minutos.

. Abra un explorador Web desde un host que tenga una conexión con la máquina virtual Connector e introduzca la siguiente URL:
+
https://_ipaddress_[]

. Después de iniciar sesión, configure el conector:
+
.. Especifique la cuenta BlueXP que desea asociar al conector.
.. Escriba un nombre para el sistema.
.. En *¿se está ejecutando en un entorno seguro?* mantener el modo restringido desactivado.
+
Debe mantener desactivado el modo restringido porque estos pasos describen cómo utilizar BlueXP en modo estándar. Sólo debe activar el modo restringido si tiene un entorno seguro y desea desconectar esta cuenta de los servicios de entorno de administración de BlueXP. Si ese es el caso, link:task-quick-start-restricted-mode.html["Siga los pasos para comenzar con BlueXP en modo restringido"].

.. Haga clic en *Vamos a iniciar*.




.Resultado
El conector ya está instalado y configurado con su cuenta BlueXP.

Abra un explorador web y vaya al https://console.bluexp.netapp.com["Consola BlueXP"^] Para empezar a utilizar el conector con BlueXP.

--
.Instalación manual
--
.Lo que necesitará
* Privilegios de root para instalar el conector.
* Detalles sobre un servidor proxy, si se necesita un proxy para el acceso a Internet desde el conector.
+
Tiene la opción de configurar un servidor proxy después de la instalación, pero para hacerlo es necesario reiniciar el conector.

* Un certificado firmado por CA, si el servidor proxy utiliza HTTPS o si el proxy es un proxy de interceptación.


.Acerca de esta tarea
* La instalación instala las herramientas de línea de comandos de AWS (awscli) para habilitar los procedimientos de recuperación del soporte de NetApp.
+
Si recibe un mensaje que ha fallado al instalar el awscli, puede ignorar el mensaje de forma segura. El conector puede funcionar correctamente sin las herramientas.

* El instalador disponible en el sitio de soporte de NetApp puede ser una versión anterior. Después de la instalación, el conector se actualiza automáticamente si hay una nueva versión disponible.


.Pasos
. Compruebe que docker está activado y en ejecución.
+
[source, cli]
----
sudo systemctl enable docker && sudo systemctl start docker
----
. Si las variables del sistema _http_proxy_ o _https_proxy_ están establecidas en el host, elimínelas:
+
[source, cli]
----
unset http_proxy
unset https_proxy
----
+
Si no elimina estas variables del sistema, la instalación fallará.

. Descargue el software del conector de https://mysupport.netapp.com/site/products/all/details/cloud-manager/downloads-tab["Sitio de soporte de NetApp"^]Y, a continuación, cópielo en el host Linux.
+
Debe descargar el instalador "en línea" del conector que se utiliza en su red o en la nube. Hay disponible un instalador "sin conexión" independiente para el conector, pero sólo es compatible con implementaciones en modo privado.

. Asigne permisos para ejecutar el script.
+
[source, cli]
----
chmod +x OnCommandCloudManager-<version>
----
+
Donde <version> es la versión del conector que ha descargado.

. Ejecute el script de instalación.
+
[source, cli]
----
 ./OnCommandCloudManager-<version> --proxy <HTTP or HTTPS proxy server> --cacert <path and file name of a CA-signed certificate>
----
+
Los parámetros --proxy y --cacert son opcionales. Si tiene un servidor proxy, deberá introducir los parámetros como se muestra. El instalador no le solicita que proporcione información sobre un proxy.

+
A continuación encontrará un ejemplo del comando utilizando los dos parámetros opcionales:

+
[source, cli]
----
 ./OnCommandCloudManager-V3.9.26 --proxy https://user:password@10.0.0.30:8080/ --cacert /tmp/cacert/certificate.cer
----
+
--proxy configura el conector para que utilice un servidor proxy HTTP o HTTPS con uno de los siguientes formatos:

+
** \http://address:port
** \http://username:password@address:port
** \https://address:port
** \https://username:password@address:port


+
--cacert especifica un certificado firmado por CA que se utilizará para el acceso HTTPS entre el conector y el servidor proxy. Este parámetro sólo es obligatorio si se especifica un servidor proxy HTTPS o si el proxy es un proxy de interceptación.

. Espere a que finalice la instalación.
+
Al final de la instalación, el servicio Connector (occm) se reinicia dos veces si ha especificado un servidor proxy.

. Abra un explorador Web desde un host que tenga una conexión con la máquina virtual Connector e introduzca la siguiente URL:
+
https://_ipaddress_[]

. Después de iniciar sesión, configure el conector:
+
.. Especifique la cuenta BlueXP que desea asociar al conector.
.. Escriba un nombre para el sistema.
.. En *¿se está ejecutando en un entorno seguro?* mantener el modo restringido desactivado.
+
Debe mantener desactivado el modo restringido porque estos pasos describen cómo utilizar BlueXP en modo estándar. Sólo debe activar el modo restringido si tiene un entorno seguro y desea desconectar esta cuenta de los servicios de entorno de administración de BlueXP. Si ese es el caso, link:task-quick-start-restricted-mode.html["Siga los pasos para comenzar con BlueXP en modo restringido"].

.. Haga clic en *Vamos a iniciar*.




.Resultado
El conector ya está instalado y está configurado con su cuenta BlueXP.

.El futuro
link:task-provide-permissions-aws.html["Proporcione a BlueXP los permisos que haya configurado anteriormente"].

--
====